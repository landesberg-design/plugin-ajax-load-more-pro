var alm_woo={};(function(){alm_woo.init=true;alm_woo.paging=false;alm_woo.previousUrl=window.location.href;alm_woo.isAnimating=false;alm_woo.defaultPage=1;alm_woo.fromPopstate=false;alm_woo.HTMLHead=document.getElementsByTagName('head')[0].innerHTML;alm_woo.timer=null;alm_woo.isIE=(navigator.appVersion.indexOf("MSIE 10")!==-1)?true:false;alm_woo.localize=alm_woo.container='';window.almWooCommerce=function(alm,preloadedInit){if(!alm.addons.woocommerce){return false;}
var page=parseInt(alm.page)+1;if(alm_woo.init){alm_woo.localize=alm.localize.woocommerce;alm_woo.scrolltop=(alm_woo.localize.settings.scrolltop)?parseInt(alm_woo.localize.settings.scrolltop):50;alm_woo.controls=(alm_woo.localize.settings.controls==='true')?true:false;alm_woo.container=document.querySelector(alm_woo.localize.container);alm_woo.first=alm_woo.container.querySelector('.alm-woocommerce:first-child');alm_woo.paging=alm.addons.paging;}
setTimeout(function(){alm_woo.init=false;},50);};alm_woo.onScroll=function(){var scrollTop=window.pageYOffset;if(!alm_woo.isAnimating&&!alm_woo.paging&&!alm_woo.init){if(alm_woo.timer){window.clearTimeout(alm_woo.timer);}
alm_woo.timer=window.setTimeout(function(){var fromTop=scrollTop+alm_woo.scrolltop;var posts=document.querySelectorAll('.alm-woocommerce');var url=window.location.href;var current=Array.prototype.filter.call(posts,function(n,i){if(typeof ajaxloadmore.getOffset==='function'){var divOffset=ajaxloadmore.getOffset(n);if(divOffset.top<fromTop){return n;}}});var currentPost=current[current.length-1];var permalink=(currentPost)?currentPost.dataset.url:'';var page=(currentPost)?currentPost.dataset.page:'';var pageTitle=(currentPost)?currentPost.dataset.pageTitle:'';if(page===undefined||page===''){page=alm_woo.first.dataset.page;permalink=alm_woo.first.dataset.url;pageTitle=alm_woo.first.dataset.pageTitle;}
if(url!==permalink){alm_woo.setURL(page,permalink,pageTitle);}},15);}};window.addEventListener('touchstart',alm_woo.onScroll);window.addEventListener('scroll',alm_woo.onScroll);alm_woo.setURL=function(page,permalink,pageTitle){var state={page:page,permalink:permalink};if(permalink!==alm_woo.previousUrl&&!alm_woo.fromPopstate){if(typeof window.history.pushState==='function'&&!alm_woo.isIE){if(alm_woo.controls){history.pushState(state,'',permalink);}else{history.replaceState(state,'',permalink);}
if(typeof almUrlUpdate==='function'){window.almUrlUpdate(permalink,'woocommerce');}}
document.title=pageTitle;alm_woo.previousUrl=permalink;}
alm_woo.getRelLinks(page);alm_woo.fromPopstate=false;};alm_woo.onpopstate=function(event){var woo=document.querySelector('.alm-listing[data-woo="true"]');if(woo){if(!alm_woo.paging){alm_woo.fromPopstate=true;alm_woo.getPageState(event.state);}else{if((typeof almSetCurrentPage==='function')&&(typeof almGetParentContainer==='function')&&(typeof almGetObj==='function')){var current=event.state,obj=window.almGetParentContainer(),alm=window.almGetObj();current=(current===null)?alm_woo.defaultPage:event.state.page;alm_woo.fromPopstate=true;if(typeof almSetCurrentPage==='function'){window.almSetCurrentPage(current,obj,alm);}}}}};window.addEventListener('popstate',function(event){if(typeof window.history.pushState=='function'){alm_woo.onpopstate(event);}});alm_woo.getPageState=function(data){var page;if(data===null||data===''){page=-1;}else{page=data.page;}
var products=document.querySelector(alm_woo.localize.container);if(products){alm_woo.scrollToPage(page);}};alm_woo.scrollToPage=function(page){page=(page===undefined||page===''||page==='-1'||page===-1)?alm_woo.first.dataset.page:page;if(alm_woo.isAnimating){return false;}
alm_woo.isAnimating=true;var target=document.querySelector('.alm-woocommerce[data-page="'+page+'"]');if(target){var offset=(typeof ajaxloadmore.getOffset==='function')?ajaxloadmore.getOffset(target).top:target.offsetTop;var top=offset-alm_woo.scrolltop+5;setTimeout(function(){window.scrollTo(0,top);alm_woo.fromPopstate=false;},5);}
setTimeout(function(){alm_woo.isAnimating=false;},250);};alm_woo.getRelLinks=function(page){page=parseInt(page);alm_woo.setRelLink(page-1,'prev');alm_woo.setRelLink(page+1,'next');};alm_woo.setRelLink=function(page,type){var rel=document.querySelector('link[rel="'+type+'"]');var localize=alm_woo.localize;if(type==='next'&&page>localize.paged_urls.length){alm_woo.removeRelLink(rel);return false;}
if(type==='prev'&&page==0){alm_woo.removeRelLink(rel);return false;}
var link=localize.paged_urls[page-1];if(rel){rel.href=link;}else{rel=document.createElement('link');rel.href=link;rel.rel=type;document.getElementsByTagName('head')[0].appendChild(rel);}};alm_woo.removeRelLink=function(rel){if(rel){rel.parentNode.removeChild(rel);}};})();